"use strict";angular.module("bricksApp",["ngRoute"]).config(["$routeProvider",function(a){var b=function(a){var b,c=window.bricksApp,d="Nothing Found.",e=a.route?"/"+a.route:"/";return 0===c.pages.length?d:(c.pages.some(function(a){return a.url===e?(b=a.template,!0):void 0}),b?b:d)},c={template:b,controller:"MainCtrl"};a.when("/",c).when("/:route*",c)}]).factory("Storage",["$window",function(a){var b={},c=a.bricksApp,d="bricks_app_"+c.id+"_";return b.all=function(){var b={};return c.tables.forEach(function(c){var e=a.localStorage.getItem(d+c.name);b[c.name]=e?JSON.parse(e):[]}),b},b}]).controller("MainCtrl",["$scope","Storage",function(a,b){a.data=b.all(),a.save=function(b,c){var d=angular.copy(c),e=(new Date).toISOString().split(".")[0].replace("T"," ");d.id=uuid(),d.created_at=e,d.updated_at=e,a.data[b]=a.data[b]||[],a.data[b].push(d),a[b]={},a.submitted=!0},a.delete=function(b,c){angular.forEach(a.data[b],function(d,e){d.id===c.id&&a.data[b].splice(e,1)})}}]);